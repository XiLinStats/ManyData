---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r,echo = F, warnings = F}
library(data.table)
library(causl)
library(microbenchmark)
library(ManyData)
masks<-function(formulas, family = rep(1, nc), wh, LHS)
{
  if (is.list(family)) {
    ncop <- lengths(family[length(family)])
    family <- unlist(family[-length(family)])
  }
  formulas <- unlist(formulas)
  nc <- length(formulas) + ncop - 1
  beta_m <- matrix(0, nrow = max(unlist(wh)), ncol = nc)
  phi_m <- numeric(length(family))
  for (i in seq_along(phi_m)) {
    if (family[i] >= 1 && family[i] <= 3) {
      phi_m[i] <- 1
    }
    beta_m[wh[[i]], i] <- 1
  }

  cp <- length(phi_m) +1
  for (i in seq_len(ncop)){
    beta_m[wh[[cp]], length(phi_m) + i] <- 1

  }
  return(list(beta_m = beta_m, phi_m = phi_m))
}
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
